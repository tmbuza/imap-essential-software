[["index.html", "IMAP: Integrated Microbiome Analysis Pipelines End-to-End Practical User Guides Using R, Python and Snakemake Workflows 1 Software Toolkit for Microbiome Data Analysis 1.1 Basic software", " IMAP: Integrated Microbiome Analysis Pipelines End-to-End Practical User Guides Using R, Python and Snakemake Workflows Teresia Mrema-Buza 2024-02-13 1 Software Toolkit for Microbiome Data Analysis 1.1 Basic software We must install all essential tools to get started and ensure they run smoothly. Examples of required software include: Environment and package management system. Workflow management system. Quality control tools. Bioinformatics analysis pipelines. Data analysis software. More tools as needed. "],["environment-package-management-system.html", "2 Environment &amp; package management system 2.1 Install conda 2.2 Install mamba 2.3 Setting up common channels 2.4 Creating a conda environment 2.5 Activating and deactivating the environment 2.6 Updating conda 2.7 Checking the conda version 2.8 Reproducing existing environment 2.9 Checking available environments 2.10 Removing an environment 2.11 Miscellaneous queries with repoquery", " 2 Environment &amp; package management system 2.1 Install conda Conda is a package manager obtained via Miniconda or Anaconda. For a complete installation guide, click here. For documentation, click here. Miniconda: https://docs.conda.io/en/latest/miniconda.html Anaconda: https://docs.anaconda.com/ Getting started with Conda: Click here. 2.2 Install mamba Mamba is a CLI tool to manage conda environments Mamba can be obtained via Mambaforge. For a complete installation guide, click here. For documentation, click here. 2.2.1 Demo installing Miniconda3 for Mac OS curl -L https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-x86_64.sh -o Miniconda3-latest-MacOSX-x86_64.sh bash Miniconda3-latest-MacOSX-x86_64.sh 2.2.2 Demo installing Mambaforge for Mac OS curl -L https://github.com/conda-forge/miniforge/releases/latest/download/Mambaforge-MacOSX-x86_64.sh -o Mambaforge-MacOSX-x86_64.sh bash Mambaforge-MacOSX-x86_64.sh 2.3 Setting up common channels We will be using lots of bioinformatics and analysis tools. Note that most bioinformatics tools are via the bioconda channel. Most analysis tools are installed via the conda-forge channel. Some metagenomics analysis tools described in this guide are installed via the biobakery channel. conda config --add channels defaults conda config --add channels bioconda conda config --add channels conda-forge conda config --add channels biobakery conda config --add channels qiime2 conda config --add channels &quot;qiime2/label/r2023.2&quot; conda config --set auto_activate_base False 2.4 Creating a conda environment 2.4.1 Using conda conda activate base conda create --name imap conda create --name imap python==10 conda create --name imap python==10 pandas numpy seaborn Note: Each command line creates the environment imap in the base environment, so choose a line that suits you best. 2.4.2 Using mamba mamba create -c bioconda --name imap mamba create --name imap python==10 mamba create --name imap python==10 pandas numpy seaborn 2.5 Activating and deactivating the environment conda activate imap conda deactivate imap After setting up the channels and creating an environment, we can install more software. For installation, we will use Mamba package manager instead of Conda package manager because it is much faster. 2.6 Updating conda conda update conda mamba update conda 2.7 Checking the conda version conda -V mamba -V 2.8 Reproducing existing environment Requires an environment spec file or a yml file 2.8.1 Creating an env spec file conda list --explicit &gt; env_spec_file.txt 2.8.2 Creating a new environment from a spec file conda create --name new_env --file env_spec_file.txt 2.8.3 Installing packages from a spec file conda install --name existing_env --file env_spec_file.txt 2.8.4 Creating new env from a YAML file First, create the YAML or YML file: environment.yml environment.yaml Here, we save the environment.yml file in the workflow/envs folder, and it is configured to contain the following: name: imap channels: - conda-forge - bioconda - defaults - r dependencies: - snakemake =7.19.1 - snakemake-minimal =7.19.1 - snakemake-wrapper-utils =0.5.0 - snakedeploy =0.8.6 - python =3.8.0 - r-base =4.1.3 - r-tidyverse =1.3.2 - r-bookdown =0.32 - r-htmltools =0.5.4 - r-htmlwidgets =1.6.1 - r-leaflet =2.1.1 - r-leaflet.providers =1.9.0 - r-rmarkdown =2.20 - r-schtools =0.4.0 - graphviz =6.0.1 - qiime2 =2023.2.0 - mothur =1.48.0 - vsearch =2.22.1 - q2-vsearch =2023.2.0 conda activate base mamba env create --name imap --file environment.yaml 2.9 Checking available environments If everything goes smoothly, you should see the newly created environment. It will be ready to be activated. Great! conda env list conda info --envs mamba env list mamba info --envs conda activate imap 2.10 Removing an environment Must deactivate the environment before removing it. conda env list conda deactivate conda env remove --name imap conda remove --name imap --all conda env list 2.11 Miscellaneous queries with repoquery 2.11.1 Search all package version mamba repoquery search snakemake --channel bioconda mamba repoquery search python --channel conda-forge 2.11.2 List package dependencies mamba repoquery depends snakemake --channel bioconda mamba repoquery depends python --channel conda-forge 2.11.3 List which packages depend on mamba repoquery whoneeds snakemake --channel bioconda mamba repoquery whoneeds python --channel conda-forge "],["snakemake-workflow-management-system.html", "3 Snakemake workflow management system 3.1 Install snakemake 3.2 Install snakemake minimal 3.3 Install snakemake wrappers 3.4 Install SnakeDeploy 3.5 Installing using environment.yml", " 3 Snakemake workflow management system 3.1 Install snakemake Snakemake[1] software is best installed via the Mamba package manager or Mambaforge. We first need to confirm if conda or mamba are installed and proceed from there. mamba install -c bioconda snakemake 3.2 Install snakemake minimal mamba install -c bioconda snakemake-minimal 3.3 Install snakemake wrappers mamba install -c bioconda snakemake-wrapper-utils 3.4 Install SnakeDeploy Snakedeploy[2] deploys a snakemake pipeline from version control like GitHub. mamba install -c bioconda snakedeploy 3.5 Installing using environment.yml name: snakemake channels: - bioconda dependencies: - snakemake =7.19.1 - snakemake-minimal =7.19.1 - snakedeploy =0.8.6 - snakemake-wrapper-utils =0.5.0 conda activate base mamba env create --name snakemake --file environment.yaml References [1] Köster, J., Mölder, F., Jablonski, K. P., Letcher, B., Hall, M. B., Tomkins-Tinch, C. H., … Nahnsen, S. (2021). Sustainable data analysis with snakemake. F1000Research, 10. https://doi.org/10.12688/f1000research.29032.2 [2] SnakeDeploy. Retrieved from https://github.com/snakemake/snakedeploy "],["data-science-visualization-tools.html", "4 Data Science &amp; Visualization Tools 4.1 Installing R Environment 4.2 Installing RStudio Environment 4.3 Installing Python 4.4 Installing using environment.yml", " 4 Data Science &amp; Visualization Tools The most powerful tools for analyzing and visualizing microbiome data include: R and RStudio R-markdown Python Jupyter notebook 4.1 Installing R Environment R is free software for statistical computing, data analysis, and graphics[3]. We can install the R application on a personal computer to process the R programming language. You can download and install R using these steps: Go to https://www.r-project.org/. On the left, under Download, click on CRAN to access the mirrors. CRAN (Comprehensive R Archive Network) is mirrored on nearly 100 registered servers in almost 50 regions worldwide. See CRAN mirror status. https://cloud.r-project.org/ Pick a mirror close to your location, and automatically R will connect to that server, ready to download the package files. Select a compatible platform to download precompiled binary distributions of the base system, which also come with contributed packages. 4.2 Installing RStudio Environment RStudio is a free program integrating with R as an IDE (Integrated Development Environment) to implement most analytical functionalities[4]. For effective analysis, we must install R before installing RStudio. We will intensively use RStudio IDE to give us a user interface. We are interested in RStudio Desktop, which is an open-source regular desktop application. You can install it like this: Go to https://rstudio.com/products/rstudio/. Click on RStudio Desktop box to move to the open source edition. Choose your preferred license either open source or commercial. Select installer compatible to your operating system. Screen shot of RStudio User Interface 4.3 Installing Python Python is installed through several methods. The most famous ways include: Direct downloads Via environment and package management systems, for example using conda like so: conda config --add channels conda-forge conda config --set channel_priority strict conda install python=3.10 4.4 Installing using environment.yml name: python channels: - conda-forge dependencies: - python - python-abi conda activate base mamba env create --name python --file environment.yaml References [3] R Core Team. (2021). R: A language and environment for statistical computing. Vienna, Austria: R Foundation for Statistical Computing. Retrieved from https://www.R-project.org/ [4] RStudio Team. (2021). RStudio: Integrated development environment for r. Boston, MA: RStudio, PBC. Retrieved from http://www.rstudio.com/ "],["microbiome-bioinformatics-tools.html", "5 Microbiome Bioinformatics Tools 5.1 Read quality control Tools 5.2 Creating readqc env from YAML file 5.3 Microbial composition profiling tools 5.4 Functional and Metabolic Analysis Network tools 5.5 Installing microbiome pipeline using mamba 5.6 Creating microbiome env from YAML file", " 5 Microbiome Bioinformatics Tools 5.1 Read quality control Tools We categorized the quality control (QC) tools under the bioinformatics tools. Most of the QC tools are available via the bioconda channel. Below are some of the most common bioinformatics tools used to understand read features and their quality scores. You can click on the hyperlink to learn more about installing the software. Seqkit for simple statistics[5]. FastQC for quality assessment of bases[6]. MultiQC for summarizing FastQC metrics[7]. BBMap platform for read trimming and decontamination[8]. Trimmommatic is a flexible read-trimming tool for Illumina NGS data[9]. Kneaddata via bioconda channel for performing quality control on metagenomic sequencing data.[10]. Kneaddata via the biobakery channel for performing quality control on metagenomic sequencing data[10]. Note that the links for each tool may need to be updated. Make sure to check for the latest instructions online. 5.1.1 Installing using conda or mamba Direct installation of the bioinformatics tools is much easier using the conda or mamba package management system. mamba install -c bioconda seqkit mamba install -c bioconda fastqc mamba install -c bioconda multiqc mamba install -c bioconda bbmap mamba install -c bioconda trimmommatic mamba install -c bioconda kneaddata mamba install -c biobakery kneaddata 5.2 Creating readqc env from YAML file Filename: environment.yml name: readqc channels: - bioconda - biobakery dependencies: - seqkit =2.3.1 - fastqc =0.12.1 - bbmap =39.01 - multiqc =1.14 - trimmomatic =0.39 - knead-data =0.12.0 conda activate base mamba env create --name readqc --file environment.yaml 5.3 Microbial composition profiling tools 5.3.1 Mothur pipeline Most famous for profiling microbial composition from 16S rRNA sequencing data. Mothur is an open-source software package for bioinformatics data processing. Mothur pipeline is a famous platform comprising over 145 tools that can be integrated for a desired pipeline. Mothur has a basic tutorial that help users get started with 16S rRNA gene analysis. We can download a stable platform from here. 5.3.2 QIIME2 pipeline Most famous for profiling microbial composition from 16S rRNA sequencing data. QIIME2 is an open-source microbiome analysis platform with integrated software for quality control, such as DADA2. It is a very famous platform with an active community forum. QIIME2 has profound tutorials that help users get started with 16S rRNA gene analysis. We can install the latest version from here. 5.3.3 MetaPhlAn pipeline MetaPhlAn is an open-source pipeline for taxonomic profiling from metagenomic shotgun sequencing data. MetaPhlAn tutorial provide a step-by-step guidance for taxonomic profiling from different environmental samples. 5.4 Functional and Metabolic Analysis Network tools 5.4.1 HUMAnN pipeline HUMAnN (the HMP Unified Metabolic Analysis Network) is an open-source pipeline for functional profiling from metagenomic sequencing data. HUMAnN tutorial provide a step-by-step guidance for functional profiling. 5.5 Installing microbiome pipeline using mamba Using a conda or mamba package management system is much easier to install bioinformatics tools. mamba install -c bioconda mothur mamba install -c qiime2 qiime2 mamba install -c bioconda metaphors mamba install -c biobakery humann mamba install -c bioconda humann 5.6 Creating microbiome env from YAML file Filename: environment.yml name: microbiome channels: - bioconda - biobakery - qiime2 dependencies: - mothur =1.48.0 - qiime2 =2023.2.0 - metaphor =4.0.6 - humann =3.6 conda activate base mamba env create --name microbiome --file environment.yaml References [5] Shen, W., Le, S., Li, Y., &amp; Hu, F. (2016). SeqKit: A cross-platform and ultrafast toolkit for FASTA/q file manipulation. PLoS ONE, 11. https://doi.org/10.1371/JOURNAL.PONE.0163962 [6] Andrews, S. (2018). FastQC: Https://www.bioinformatics.babraham.ac.uk/projects/fastqc/. Retrieved from https://www.bioinformatics.babraham.ac.uk/projects/fastqc/ [7] Ewels, P., Magnusson, M., Lundin, S., &amp; Kaller, M. (2016). MultiQC: Summarize analysis results for multiple tools and samples in a single report. Bioinformatics, 32, 3047–3048. https://doi.org/10.1093/bioinformatics/btw354 [8] Bushnell, B. (2016). BBMap short-read aligner, and other bioinformatics tools. Retrieved from http://sourceforge.net/projects/bbmap/ [9] Bolger, A. M., Lohse, M., &amp; Usadel, B. (2014). Trimmomatic: a flexible trimmer for Illumina sequence data. Bioinformatics, 30(15), 2114–2120. https://doi.org/10.1093/bioinformatics/btu170 [10] Biobakery. (2022). Biobakery kneaddata:quality control tool on metagenomic and metatranscriptomic sequencing data. Retrieved from https://github.com/biobakery/kneaddata "],["imap-github-repos.html", "A IMAP GitHub Repos", " A IMAP GitHub Repos Repo Description Status IMAP-OVERVIEW IMAP project overview In-progress IMAP-PART 01 Software requirement for microbiome data analysis with Snakemake workflows In-progress IMAP-PART 02 Downloading and exploring microbiome sample metadata from SRA Database In-progress IMAP-PART 03 Downloading and filtering microbiome sequencing data from SRA database In-progress IMAP-PART 04 Quality Control of Microbiome Next Generation Sequencing Reads In-progress IMAP-PART 05 Microbial profiling using MOTHUR and Snakemake workflows In-progress IMAP-PART 06 Microbial profiling using QIIME2 and Snakemake workflows In-progress IMAP-PART 07 Processing Output from 16S-Based microbiome bioinformatics pipelines In-progress IMAP-PART 08 Exploratory Analysis of 16S-Based Microbiome Processed Data In-progress IMAP-SUMMARY Summary of snakemake workflows for microbiome data analysis In-progress "],["session-information.html", "B Session Information", " B Session Information Reproducibility relies on the ability to precisely recreate the working environment, and session information serves as a vital reference to achieve this consistency. Here we record details about the R environment, package versions, and system settings of the computing environment at the time of analysis. library(knitr) library(sessioninfo) # Get session info info &lt;- capture.output(print(session_info())) # Create the &#39;resources&#39; folder if it doesn&#39;t exist if (!dir.exists(&quot;resources&quot;)) { dir.create(&quot;resources&quot;) } # Save the session information to a text file writeLines(info, &quot;resources/session_info.txt&quot;) info ## [1] &quot;─ Session info ───────────────────────────────────────────────────────────────&quot; ## [2] &quot; setting value&quot; ## [3] &quot; version R version 4.3.1 (2023-06-16)&quot; ## [4] &quot; os macOS Sonoma 14.2.1&quot; ## [5] &quot; system aarch64, darwin20&quot; ## [6] &quot; ui X11&quot; ## [7] &quot; language (EN)&quot; ## [8] &quot; collate en_US.UTF-8&quot; ## [9] &quot; ctype en_US.UTF-8&quot; ## [10] &quot; tz Africa/Dar_es_Salaam&quot; ## [11] &quot; date 2024-02-13&quot; ## [12] &quot; pandoc 3.1.3 @ /Users/tmbmacbookair/anaconda3/bin/ (via rmarkdown)&quot; ## [13] &quot;&quot; ## [14] &quot;─ Packages ───────────────────────────────────────────────────────────────────&quot; ## [15] &quot; ! package * version date (UTC) lib source&quot; ## [16] &quot; P BiocManager 1.30.22 2023-08-08 [?] CRAN (R 4.3.0)&quot; ## [17] &quot; P bookdown 0.36 2023-10-16 [?] CRAN (R 4.3.1)&quot; ## [18] &quot; bslib 0.6.1 2023-11-28 [1] CRAN (R 4.3.1)&quot; ## [19] &quot; P cachem 1.0.8 2023-05-01 [?] CRAN (R 4.3.0)&quot; ## [20] &quot; cli 3.6.2 2023-12-11 [1] CRAN (R 4.3.1)&quot; ## [21] &quot; P digest 0.6.33 2023-07-07 [?] CRAN (R 4.3.0)&quot; ## [22] &quot; evaluate 0.23 2023-11-01 [1] CRAN (R 4.3.1)&quot; ## [23] &quot; fastmap 1.1.1 2023-02-24 [1] CRAN (R 4.3.0)&quot; ## [24] &quot; htmltools 0.5.7 2023-11-03 [1] CRAN (R 4.3.1)&quot; ## [25] &quot; jquerylib 0.1.4 2021-04-26 [1] CRAN (R 4.3.0)&quot; ## [26] &quot; jsonlite 1.8.8 2023-12-04 [1] CRAN (R 4.3.1)&quot; ## [27] &quot; knitr * 1.45 2023-10-30 [1] CRAN (R 4.3.1)&quot; ## [28] &quot; lifecycle 1.0.4 2023-11-07 [1] CRAN (R 4.3.1)&quot; ## [29] &quot; P R6 2.5.1 2021-08-19 [?] CRAN (R 4.3.0)&quot; ## [30] &quot; renv 1.0.3 2023-09-19 [1] CRAN (R 4.3.1)&quot; ## [31] &quot; P rlang 1.1.2 2023-11-04 [?] CRAN (R 4.3.1)&quot; ## [32] &quot; rmarkdown 2.25 2023-09-18 [1] CRAN (R 4.3.1)&quot; ## [33] &quot; P rstudioapi 0.15.0 2023-07-07 [?] CRAN (R 4.3.0)&quot; ## [34] &quot; P sass 0.4.8 2023-12-06 [?] CRAN (R 4.3.1)&quot; ## [35] &quot; P sessioninfo * 1.2.2 2021-12-06 [?] CRAN (R 4.3.0)&quot; ## [36] &quot; P xfun 0.41 2023-11-01 [?] CRAN (R 4.3.1)&quot; ## [37] &quot; yaml 2.3.8 2023-12-11 [1] CRAN (R 4.3.1)&quot; ## [38] &quot;&quot; ## [39] &quot; [1] /Users/tmbmacbookair/Dropbox/2024/TMB2024/imap-software-requirements/renv/library/R-4.3/aarch64-apple-darwin20&quot; ## [40] &quot; [2] /Users/tmbmacbookair/Library/Caches/org.R-project.R/R/renv/sandbox/R-4.3/aarch64-apple-darwin20/ac5c2659&quot; ## [41] &quot;&quot; ## [42] &quot; P ── Loaded and on-disk path mismatch.&quot; ## [43] &quot;&quot; ## [44] &quot;──────────────────────────────────────────────────────────────────────────────&quot; "],["references.html", "References", " References [1] Köster, J., Mölder, F., Jablonski, K. P., Letcher, B., Hall, M. B., Tomkins-Tinch, C. H., … Nahnsen, S. (2021). Sustainable data analysis with snakemake. F1000Research, 10. https://doi.org/10.12688/f1000research.29032.2 [2] SnakeDeploy. Retrieved from https://github.com/snakemake/snakedeploy [3] R Core Team. (2021). R: A language and environment for statistical computing. Vienna, Austria: R Foundation for Statistical Computing. Retrieved from https://www.R-project.org/ [4] RStudio Team. (2021). RStudio: Integrated development environment for r. Boston, MA: RStudio, PBC. Retrieved from http://www.rstudio.com/ [5] Shen, W., Le, S., Li, Y., &amp; Hu, F. (2016). SeqKit: A cross-platform and ultrafast toolkit for FASTA/q file manipulation. PLoS ONE, 11. https://doi.org/10.1371/JOURNAL.PONE.0163962 [6] Andrews, S. (2018). FastQC: Https://www.bioinformatics.babraham.ac.uk/projects/fastqc/. Retrieved from https://www.bioinformatics.babraham.ac.uk/projects/fastqc/ [7] Ewels, P., Magnusson, M., Lundin, S., &amp; Kaller, M. (2016). MultiQC: Summarize analysis results for multiple tools and samples in a single report. Bioinformatics, 32, 3047–3048. https://doi.org/10.1093/bioinformatics/btw354 [8] Bushnell, B. (2016). BBMap short-read aligner, and other bioinformatics tools. Retrieved from http://sourceforge.net/projects/bbmap/ [9] Bolger, A. M., Lohse, M., &amp; Usadel, B. (2014). Trimmomatic: a flexible trimmer for Illumina sequence data. Bioinformatics, 30(15), 2114–2120. https://doi.org/10.1093/bioinformatics/btu170 [10] Biobakery. (2022). Biobakery kneaddata:quality control tool on metagenomic and metatranscriptomic sequencing data. Retrieved from https://github.com/biobakery/kneaddata Last updated on February 13, 2024. Github_Repo: https://github.com/datainsights/imap-project-overview Repo compiled and maintained by: Teresia Mrema-Buza. For more related info, visit the CDI website (…in progress). "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
